{"version":3,"sources":["webpack:///./src/home/model.js","webpack:///./src/home/view.jsx","webpack:///./src/home/controller.js","webpack:////Users/yangyichen/Desktop/Github/matcha/isomorphic/controller.js","webpack:///../../../src/isomorphic/controller.ts"],"names":["initialState","count","form","name","age","messages","actions","INCREMENT_COUNT","state","RESET_COUNT","UPDATE_FORM_DATA","payload","UPDATE_MESSAGES","Messages","map","message","key","View","dispatchers","ctrl","console","log","id","onClick","type","value","onChange","e","target","submitForm","a","setTimeout","store","getDispatchers","Date","alert","JSON","stringify","getState","AppController","Controller"],"mappings":"+0BAAO,IAAMA,EAAe,CAC1BC,MAAO,EACPC,KAAM,CACJC,KAAM,GACNC,IAAK,IAEPC,SAAU,IAGCC,EAAU,CAErBC,gBAAiB,SAACC,GAChB,cACKA,GADL,IAEEP,MAAOO,EAAMP,MAAQ,KAKzBQ,YAAa,SAACD,GACZ,cACKA,GADL,IAEEP,MAAQ,KAIZS,iBAAkB,SAACF,EAAOG,GACxB,cACKH,GADL,IAEEN,KAAM,EAAF,KACCM,EAAMN,MACNS,MAKTC,gBAAiB,SAACJ,EAAOG,GACvB,cACKH,GADL,IAEEH,SAAU,IAAIM,O,iBCTdE,EAAW,SAAC,GAAsB,QAApBR,gBAAoB,MAAT,GAAS,EACtC,OACE,4BACGA,EAASS,KAAI,SAAAC,GAAO,OAAI,wBAAIC,IAAKD,GAAUA,QAKnCE,EApCF,SAAC,GAAiC,IAA/BT,EAA+B,EAA/BA,MAAOU,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,KAElCC,QAAQC,IAAIF,GAMZ,OACE,yBAAKG,GAAG,YACN,uCACA,sCAAad,EAAMP,OACnB,yBAAKsB,QAAS,WACZH,QAAQC,IAAI,SACZH,EAAYX,oBAFd,gBAIA,6BACA,kBAAC,EAAD,CAAUF,SAAUG,EAAMH,WAC1B,6BACA,2BAAOmB,KAAK,OAAOC,MAAOjB,EAAMN,KAAKC,KAAMuB,SAf1B,SAACC,GAAD,OAAOT,EAAYR,iBAAiB,CAAEP,KAAMwB,EAAEC,OAAOH,WAgBtE,6BACA,2BAAOD,KAAK,OAAOC,MAAOjB,EAAMN,KAAKE,IAAKsB,SAf1B,SAACC,GAAD,OAAOT,EAAYR,iBAAiB,CAAEN,IAAKuB,EAAEC,OAAOH,WAgBpE,6BACA,4BAAQF,QAASJ,EAAKU,YAAtB,Y,inBCnBG,oB,kBACD,G,oBACG,O,kBACFZ,G,mBACC,CAAEjB,eAAcM,Y,uCAEV,sBAAAwB,EAAA,sDACZC,YAAW,WACT,EAAKC,MAAMC,iBAAiBrB,gBAAgB,CAC1C,oBAA2B,IAAIsB,KAC/B,sBAA6B,IAAIA,KACjC,kBAAyB,IAAIA,SAE9B,KAPS,4C,sCAWD,sBAAAJ,EAAA,sDACXV,QAAQC,IAAI,QACZc,MAAMC,KAAKC,UAAU,EAAKL,MAAMM,WAAWpC,OAFhC,4C,YAlBcqC,M,+BCL7B,oBACeC,MAAf,G,8ECEA,MAaE,SAAa,GAZT,KAAJ,KAAe,EACX,KAAJ,OAAiB,EACb,KAAJ,MAAkC,KAWhC,QAAQ,IAAI,eACZ,QAAQ,IAAI,I","file":"home.45079b4e44e54e2bfa81.js","sourcesContent":["export const initialState = {\n  count: 0,\n  form: {\n    name: '',\n    age: '',\n  },\n  messages: []\n}\n\nexport const actions = {\n\n  INCREMENT_COUNT: (state) => {\n    return {\n      ...state,\n      count: state.count + 1,\n    }\n  },\n\n\n  RESET_COUNT: (state) => {\n    return {\n      ...state,\n      count:  0\n    }\n  },\n\n  UPDATE_FORM_DATA: (state, payload) => {\n    return {\n      ...state,\n      form: {\n        ...state.form,\n        ...payload,\n      }\n    }\n  },\n\n  UPDATE_MESSAGES: (state, payload) => {\n    return {\n      ...state,\n      messages: [...payload]\n    }\n  }\n}\n","import React from 'react'\n\nconst View = ({ state, dispatchers, ctrl }) => {\n\n  console.log(ctrl)\n\n  const onNameChange = (e) => dispatchers.UPDATE_FORM_DATA({ name: e.target.value })\n\n  const onAgeChange = (e) => dispatchers.UPDATE_FORM_DATA({ age: e.target.value })\n\n  return (\n    <div id=\"app-root\">\n      <h1>my home</h1>\n      <h2>count: { state.count }</h2>\n      <div onClick={() => {\n        console.log('click')\n        dispatchers.INCREMENT_COUNT()\n      }}>click me!!!!</div>\n      <br/>\n      <Messages messages={state.messages}/>\n      <br/>\n      <input type=\"text\" value={state.form.name} onChange={onNameChange}/>\n      <br/>\n      <input type=\"text\" value={state.form.age} onChange={onAgeChange}/>\n      <br/>\n      <button onClick={ctrl.submitForm}>submit</button>\n    </div>\n  )\n}\n\nconst Messages = ({ messages = [] }) => {\n  return (\n    <ul>\n      {messages.map(message => <li key={message}>{message}</li>)}\n    </ul>\n  )\n}\n\nexport default View\n","import AppController from 'matcha/isomorphic/controller'\nimport React from 'react'\nimport { actions, initialState } from './model'\nimport View from './view'\n\nexport default class extends AppController {\n  name = 'home page!!!!!!!'\n  ssr = true\n  pageId = 10001\n  View = View\n  Model = { initialState, actions }\n\n  afterRender = async () => {\n    setTimeout(() => {\n      this.store.getDispatchers().UPDATE_MESSAGES([\n        'hello world!' + '  —— ' + new Date(),\n        'hi yichenyang!' + '  —— ' + new Date(),\n        'yo matcha!' + '  —— ' + new Date()\n      ])\n    }, 1000)\n  }\n\n\n  submitForm = async () => {\n    console.log('1213')\n    alert(JSON.stringify(this.store.getState().form))\n  }\n}\n","import Controller from '../dist/src/isomorphic/controller'\nexport default Controller\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AppController = /** @class */ (function () {\n    function AppController(context) {\n        this.ssr = false;\n        this.pageId = 0;\n        this.store = null;\n        console.log('constructor');\n        console.log(context);\n    }\n    return AppController;\n}());\nexports.default = AppController;\n//# sourceMappingURL=controller.js.map"],"sourceRoot":""}