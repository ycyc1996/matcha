!function(n,e){for(var t in e)n[t]=e[t]}(window,function(n){function e(e){for(var r,i,s=e[0],u=e[1],c=e[2],p=0,_=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&_.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(n[r]=u[r]);for(l&&l(e);_.length;)_.shift()();return o.push.apply(o,c||[]),t()}function t(){for(var n,e=0;e<o.length;e++){for(var t=o[e],r=!0,s=1;s<t.length;s++){var u=t[s];0!==a[u]&&(r=!1)}r&&(o.splice(e--,1),n=i(i.s=t[0]))}return n}var r={},a={main:0},o=[];function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(n){var e=[],t=a[n];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,r){t=a[n]=[e,r]}));e.push(t[2]=r);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(n){return i.p+"js/"+({home:"home",test:"test"}[n]||n)+"."+{home:"491dbfae0e799ab90efb",test:"7fba3c22eefe7df6df9d"}[n]+"js"}(n);var u=new Error;o=function(e){s.onerror=s.onload=null,clearTimeout(c);var t=a[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;u.message="Loading chunk "+n+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,t[1](u)}a[n]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(e)},i.m=n,i.c=r,i.d=function(n,e,t){i.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,e){if(1&e&&(n=i(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)i.d(t,r,function(e){return n[e]}.bind(null,r));return t},i.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(e,"a",e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p="/static/",i.oe=function(n){throw console.error(n),n};var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;return o.push(["../../dist/src/isomorphic/entry/client.js","vendor"]),t()}({"../../dist/src/isomorphic/createApp.js":
/*!********************************************************************************!*\
  !*** /Users/yangyichen/Desktop/Github/matcha/dist/src/isomorphic/createApp.js ***!
  \********************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator["throw"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    "throw": verb(1),\n    "return": verb(2)\n  }, typeof Symbol === "function" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError("Generator is already executing.");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    "default": mod\n  };\n};\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar react_1 = __importStar(__webpack_require__(/*! react */ "../../node_modules/react/index.js"));\n\nvar createStore_1 = __importDefault(__webpack_require__(/*! ./createStore */ "../../dist/src/isomorphic/createStore.js"));\n\nvar createApp = function createApp(AppCtrlClass, _a) {\n  var isServer = _a.isServer,\n      isClient = _a.isClient,\n      location = _a.location,\n      initialState = _a.initialState;\n  return __awaiter(void 0, void 0, void 0, function () {\n    var ctrl, View, Model, AppView;\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          ctrl = new AppCtrlClass({});\n          View = ctrl.View, Model = ctrl.Model;\n          ctrl.store = createStore_1["default"](__assign(__assign({}, Model.initialState), ctrl.ssr ? __assign({}, initialState) : {}), Model.actions);\n\n          AppView = function AppView() {\n            if (!ctrl.store) {\n              return null;\n            }\n\n            var _a = react_1.useState(0),\n                v = _a[0],\n                setV = _a[1];\n\n            var store = ctrl.store;\n            var state = store.getState();\n            var dispatchers = store.getDispatchers();\n            react_1.useEffect(function () {\n              var unsubscribe = store.subscribe(function () {\n                return setV(function (v) {\n                  return v + 1;\n                });\n              });\n              return function () {\n                return unsubscribe();\n              };\n            }, []);\n            react_1.useEffect(function () {\n              ctrl.afterRender();\n            }, []);\n            react_1.useEffect(function () {\n              return function () {\n                return ctrl.beforeUnMount();\n              };\n            });\n            return react_1["default"].createElement("div", {\n              id: "matcha-app-container"\n            }, react_1["default"].createElement(View, {\n              state: state,\n              dispatchers: dispatchers,\n              ctrl: ctrl\n            }));\n          };\n\n          if (!(isServer && ctrl.ssr || !isServer && !ctrl.ssr)) return [3\n          /*break*/\n          , 2];\n          return [4\n          /*yield*/\n          , ctrl.beforeRender()];\n\n        case 1:\n          _b.sent();\n\n          _b.label = 2;\n\n        case 2:\n          return [2\n          /*return*/\n          , {\n            renderView: function renderView() {\n              return react_1["default"].createElement(AppView, null);\n            },\n            getCtrl: function getCtrl() {\n              return ctrl;\n            }\n          }];\n      }\n    });\n  });\n};\n\nexports["default"] = createApp;\n\n//# sourceURL=webpack:////Users/yangyichen/Desktop/Github/matcha/dist/src/isomorphic/createApp.js?')},"../../dist/src/isomorphic/createRouter.js":
/*!***********************************************************************************!*\
  !*** /Users/yangyichen/Desktop/Github/matcha/dist/src/isomorphic/createRouter.js ***!
  \***********************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar createRouter = function createRouter(routes, load) {\n  if (load === void 0) {\n    load = false;\n  }\n\n  return function (path) {\n    return routes.find(function (route) {\n      console.log(route.patterns, path);\n      return route.patterns.some(function (parttern) {\n        return path.endsWith(path);\n      });\n    }) || null;\n  };\n};\n\nexports["default"] = createRouter;\n\n//# sourceURL=webpack:////Users/yangyichen/Desktop/Github/matcha/dist/src/isomorphic/createRouter.js?')},"../../dist/src/isomorphic/createStore.js":
/*!**********************************************************************************!*\
  !*** /Users/yangyichen/Desktop/Github/matcha/dist/src/isomorphic/createStore.js ***!
  \**********************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar createStore = function createStore(initialState, actions) {\n  var state = __assign({}, initialState);\n\n  var callbackWorkQueue = [];\n  var dispatchers = {};\n  Object.keys(actions).forEach(function (actionName) {\n    dispatchers[actionName] = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return replaceState(actions[actionName].apply(actions, __spreadArrays([getState()], args)));\n    };\n  });\n\n  var getState = function getState() {\n    return state;\n  };\n\n  var getDispatchers = function getDispatchers() {\n    return dispatchers;\n  };\n\n  var replaceState = function replaceState(nextState) {\n    state = __assign({}, nextState);\n    performCallbacks();\n  };\n\n  var performCallbacks = function performCallbacks() {\n    var queue = __spreadArrays(callbackWorkQueue);\n\n    queue.forEach(function (work) {\n      work.callback();\n    });\n  };\n\n  var unsubscribe = function unsubscribe(targetWork) {\n    callbackWorkQueue = callbackWorkQueue.filter(function (work) {\n      return work !== targetWork;\n    });\n  };\n\n  var subscribe = function subscribe(callback) {\n    var work = {\n      callback: callback,\n      createTime: Number(new Date())\n    };\n    callbackWorkQueue.push(work);\n    return function () {\n      return unsubscribe(work);\n    };\n  };\n\n  return {\n    getState: getState,\n    replaceState: replaceState,\n    subscribe: subscribe,\n    getDispatchers: getDispatchers\n  };\n};\n\nexports["default"] = createStore;\n\n//# sourceURL=webpack:////Users/yangyichen/Desktop/Github/matcha/dist/src/isomorphic/createStore.js?')},"../../dist/src/isomorphic/entry/client.js":
/*!***********************************************************************************!*\
  !*** /Users/yangyichen/Desktop/Github/matcha/dist/src/isomorphic/entry/client.js ***!
  \***********************************************************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator["throw"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    "throw": verb(1),\n    "return": verb(2)\n  }, typeof Symbol === "function" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError("Generator is already executing.");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    "default": mod\n  };\n};\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n}); // @ts-ignore\n\nvar _routes_1 = __importDefault(__webpack_require__(/*! @routes */ "./src/index.js"));\n\nvar createRouter_1 = __importDefault(__webpack_require__(/*! ../createRouter */ "../../dist/src/isomorphic/createRouter.js"));\n\nvar createApp_1 = __importDefault(__webpack_require__(/*! ../createApp */ "../../dist/src/isomorphic/createApp.js"));\n\nvar react_dom_1 = __importDefault(__webpack_require__(/*! react-dom */ "../../node_modules/react-dom/index.js"));\n\nconsole.log(_routes_1["default"]);\n\nvar getModuleAsync = function getModuleAsync(loader) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , loader()];\n\n        case 1:\n          return [2\n          /*return*/\n          , _a.sent()["default"]];\n      }\n    });\n  });\n};\n\nvar start = function start() {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var clientRouter, pathname, route, AppCtrlClass, initialState, app;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          clientRouter = createRouter_1["default"](_routes_1["default"]);\n          pathname = window.location.pathname;\n          route = clientRouter(pathname);\n          console.log(route);\n          if (!route) return [3\n          /*break*/\n          , 3];\n          console.log(route);\n          return [4\n          /*yield*/\n          , getModuleAsync(route.loader)];\n\n        case 1:\n          AppCtrlClass = _a.sent();\n          initialState = window[\'__InitialState__\'] || null;\n          return [4\n          /*yield*/\n          , createApp_1["default"](AppCtrlClass, {\n            isServer: false,\n            isClient: true,\n            location: __assign({}, location),\n            initialState: initialState\n          })];\n\n        case 2:\n          app = _a.sent();\n          console.log(app.getCtrl());\n\n          if (app.getCtrl().ssr) {\n            react_dom_1["default"].hydrate(app.renderView(), document.getElementById("matcha-app-root"));\n          } else {\n            react_dom_1["default"].render(app.renderView(), document.getElementById("matcha-app-root"));\n          }\n\n          _a.label = 3;\n\n        case 3:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nstart();\n\n//# sourceURL=webpack:////Users/yangyichen/Desktop/Github/matcha/dist/src/isomorphic/entry/client.js?')},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: default */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__["default"] = ([{\n  patterns: [\'/\', \'/home\'],\n  loader: function loader() {\n    return Promise.all(/*! import() | home */[__webpack_require__.e("vendor"), __webpack_require__.e("home")]).then(__webpack_require__.bind(null, /*! ./home/controller */ "./src/home/controller.jsx"));\n  }\n}, {\n  patterns: [\'/tst\', \'/test\'],\n  loader: function loader() {\n    return Promise.all(/*! import() | test */[__webpack_require__.e("vendor"), __webpack_require__.e("test")]).then(__webpack_require__.bind(null, /*! ./test/controller */ "./src/test/controller.jsx"));\n  }\n}]);\n\n//# sourceURL=webpack:///./src/index.js?')}}));