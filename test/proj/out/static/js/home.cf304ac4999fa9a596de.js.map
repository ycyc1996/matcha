{"version":3,"sources":["webpack:///../../../src/isomorphic/controller.ts","webpack:////Users/yangyichen/Desktop/Github/matcha/isomorphic/controller.js","webpack:///./src/home/controller.js","webpack:///./src/home/model.js","webpack:///./src/home/view.jsx"],"names":["Controller","View","initialState","actions","a","setTimeout","store","getDispatchers","UPDATE_MESSAGES","Date","console","log","alert","JSON","stringify","getState","form","AppController","count","name","age","messages","INCREMENT_COUNT","state","RESET_COUNT","UPDATE_FORM_DATA","payload","Messages","map","message","key","dispatchers","ctrl","id","onClick","type","value","onChange","e","target","submitForm"],"mappings":";;;;4GAGA,MAaE,SAAa,GAZT,KAAJ,KAAe,EACX,KAAJ,OAAiB,EACb,KAAJ,MAAkC,KAWhC,QAAQ,IAAI,eACZ,QAAQ,IAAI,I;;;;6DClBhB,2GACeA,YAAf,G;;;;u0DCKS,oB,kBACD,G,oBACG,O,kBACFC,W,mBACC,CAAEC,4BAAcC,oB,uCAEV,sBAAAC,EAAA,sDACZC,YAAW,WACT,EAAKC,MAAMC,iBAAiBC,gBAAgB,CAC1C,oBAA2B,IAAIC,KAC/B,sBAA6B,IAAIA,KACjC,kBAAyB,IAAIA,SAE9B,KAPS,4C,sCAWD,sBAAAL,EAAA,sDACXM,QAAQC,IAAI,QACZC,MAAMC,KAAKC,UAAU,EAAKR,MAAMS,WAAWC,OAFhC,4C,YAlBcC,Y;;;;k+BCLtB,IAAMf,EAAe,CAC1BgB,MAAO,EACPF,KAAM,CACJG,KAAM,GACNC,IAAK,IAEPC,SAAU,IAGClB,EAAU,CAErBmB,gBAAiB,SAACC,GAChB,cACKA,GADL,IAEEL,MAAOK,EAAML,MAAQ,KAKzBM,YAAa,SAACD,GACZ,cACKA,GADL,IAEEL,MAAQ,KAIZO,iBAAkB,SAACF,EAAOG,GACxB,cACKH,GADL,IAEEP,KAAM,EAAF,KACCO,EAAMP,MACNU,MAKTlB,gBAAiB,SAACe,EAAOG,GACvB,cACKH,GADL,IAEEF,SAAU,IAAIK,Q;;;;6DCvCpB,qEA8BMC,EAAW,SAAC,GAAsB,QAApBN,gBAAoB,MAAT,GAAS,EACtC,OACE,4BACGA,EAASO,KAAI,SAAAC,GAAO,OAAI,wBAAIC,IAAKD,GAAUA,QAKnC5B,UApCF,SAAC,GAAiC,IAA/BsB,EAA+B,EAA/BA,MAAOQ,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,KAElCtB,QAAQC,IAAIqB,GAMZ,OACE,yBAAKC,GAAG,YACN,uCACA,sCAAaV,EAAML,OACnB,yBAAKgB,QAAS,WACZxB,QAAQC,IAAI,SACZoB,EAAYT,oBAFd,gBAIA,6BACA,kBAACK,EAAD,CAAUN,SAAUE,EAAMF,WAC1B,6BACA,2BAAOc,KAAK,OAAOC,MAAOb,EAAMP,KAAKG,KAAMkB,SAf1B,SAACC,GAAD,OAAOP,EAAYN,iBAAiB,CAAEN,KAAMmB,EAAEC,OAAOH,WAgBtE,6BACA,2BAAOD,KAAK,OAAOC,MAAOb,EAAMP,KAAKI,IAAKiB,SAf1B,SAACC,GAAD,OAAOP,EAAYN,iBAAiB,CAAEL,IAAKkB,EAAEC,OAAOH,WAgBpE,6BACA,4BAAQF,QAASF,EAAKQ,YAAtB","file":"js/home.cf304ac4999fa9a596de.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AppController = /** @class */ (function () {\n    function AppController(context) {\n        this.ssr = false;\n        this.pageId = 0;\n        this.store = null;\n        console.log('constructor');\n        console.log(context);\n    }\n    return AppController;\n}());\nexports.default = AppController;\n//# sourceMappingURL=controller.js.map","import Controller from '../dist/src/isomorphic/controller'\nexport default Controller\n","import AppController from 'matcha/isomorphic/controller'\nimport React from 'react'\nimport { actions, initialState } from './model'\nimport View from './view'\n\nexport default class extends AppController {\n  name = 'home page!!!!!!!'\n  ssr = true\n  pageId = 10001\n  View = View\n  Model = { initialState, actions }\n\n  afterRender = async () => {\n    setTimeout(() => {\n      this.store.getDispatchers().UPDATE_MESSAGES([\n        'hello world!' + '  —— ' + new Date(),\n        'hi yichenyang!' + '  —— ' + new Date(),\n        'yo matcha!' + '  —— ' + new Date()\n      ])\n    }, 1000)\n  }\n\n\n  submitForm = async () => {\n    console.log('1213')\n    alert(JSON.stringify(this.store.getState().form))\n  }\n}\n","export const initialState = {\n  count: 0,\n  form: {\n    name: '',\n    age: '',\n  },\n  messages: []\n}\n\nexport const actions = {\n\n  INCREMENT_COUNT: (state) => {\n    return {\n      ...state,\n      count: state.count + 1,\n    }\n  },\n\n\n  RESET_COUNT: (state) => {\n    return {\n      ...state,\n      count:  0\n    }\n  },\n\n  UPDATE_FORM_DATA: (state, payload) => {\n    return {\n      ...state,\n      form: {\n        ...state.form,\n        ...payload,\n      }\n    }\n  },\n\n  UPDATE_MESSAGES: (state, payload) => {\n    return {\n      ...state,\n      messages: [...payload]\n    }\n  }\n}\n","import React from 'react'\n\nconst View = ({ state, dispatchers, ctrl }) => {\n\n  console.log(ctrl)\n\n  const onNameChange = (e) => dispatchers.UPDATE_FORM_DATA({ name: e.target.value })\n\n  const onAgeChange = (e) => dispatchers.UPDATE_FORM_DATA({ age: e.target.value })\n\n  return (\n    <div id=\"app-root\">\n      <h1>my home</h1>\n      <h2>count: { state.count }</h2>\n      <div onClick={() => {\n        console.log('click')\n        dispatchers.INCREMENT_COUNT()\n      }}>click me!!!!</div>\n      <br/>\n      <Messages messages={state.messages}/>\n      <br/>\n      <input type=\"text\" value={state.form.name} onChange={onNameChange}/>\n      <br/>\n      <input type=\"text\" value={state.form.age} onChange={onAgeChange}/>\n      <br/>\n      <button onClick={ctrl.submitForm}>submit</button>\n    </div>\n  )\n}\n\nconst Messages = ({ messages = [] }) => {\n  return (\n    <ul>\n      {messages.map(message => <li key={message}>{message}</li>)}\n    </ul>\n  )\n}\n\nexport default View\n"],"sourceRoot":""}