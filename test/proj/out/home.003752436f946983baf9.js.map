{"version":3,"sources":["webpack:///../../../src/isomorphic/controller.ts","webpack:////Users/yangyichen/Desktop/Github/matcha/isomorphic/controller.js","webpack:///./src/home/controller.js","webpack:///./src/home/model.js","webpack:///./src/home/view.jsx"],"names":["Controller","View","initialState","actions","a","store","getDispatchers","UPDATE_MESSAGES","Date","alert","JSON","stringify","getState","form","AppController","count","name","age","messages","INCREMENT_COUNT","state","RESET_COUNT","UPDATE_FORM_DATA","payload","Messages","map","message","key","dispatchers","ctrl","console","log","id","onClick","type","value","onChange","e","target","submitForm"],"mappings":";;;;4GAGA,MAaE,SAAa,GAZT,KAAJ,KAAe,EACX,KAAJ,OAAiB,EACb,KAAJ,MAAkC,KAWhC,QAAQ,IAAI,eACZ,QAAQ,IAAI,I;;;;6DClBhB,2GACeA,YAAf,G;;;;u0DCKS,oB,kBACD,G,oBACG,O,kBACFC,W,mBACC,CAAEC,4BAAcC,oB,wCAET,sBAAAC,EAAA,sDACb,EAAKC,MAAMC,iBAAiBC,gBAAgB,CAC1C,2BAAkC,IAAIC,KACtC,6BAAoC,IAAIA,KACxC,yBAAgC,IAAIA,OAJzB,4C,sCASF,sBAAAJ,EAAA,sDACXK,MAAMC,KAAKC,UAAU,EAAKN,MAAMO,WAAWC,OADhC,4C,YAhBcC,Y;;;;k+BCLtB,IAAMZ,EAAe,CAC1Ba,MAAO,EACPF,KAAM,CACJG,KAAM,GACNC,IAAK,IAEPC,SAAU,IAGCf,EAAU,CAErBgB,gBAAiB,SAACC,GAChB,cACKA,GADL,IAEEL,MAAOK,EAAML,MAAQ,KAKzBM,YAAa,SAACD,GACZ,cACKA,GADL,IAEEL,MAAQ,KAIZO,iBAAkB,SAACF,EAAOG,GACxB,cACKH,GADL,IAEEP,KAAM,EAAF,KACCO,EAAMP,MACNU,MAKThB,gBAAiB,SAACa,EAAOG,GACvB,cACKH,GADL,IAEEF,SAAU,IAAIK,Q;;;;6DCvCpB,qEA8BMC,EAAW,SAAC,GAAsB,QAApBN,gBAAoB,MAAT,GAAS,EACtC,OACE,4BACGA,EAASO,KAAI,SAAAC,GAAO,OAAI,wBAAIC,IAAKD,GAAUA,QAKnCzB,UApCF,SAAC,GAAiC,IAA/BmB,EAA+B,EAA/BA,MAAOQ,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,KAElCC,QAAQC,IAAIF,GAMZ,OACE,yBAAKG,GAAG,YACN,oCACA,sCAAaZ,EAAML,OACnB,yBAAKkB,QAAS,WACZH,QAAQC,IAAI,SACZH,EAAYT,oBAFd,gBAIA,6BACA,kBAACK,EAAD,CAAUN,SAAUE,EAAMF,WAC1B,6BACA,2BAAOgB,KAAK,OAAOC,MAAOf,EAAMP,KAAKG,KAAMoB,SAf1B,SAACC,GAAD,OAAOT,EAAYN,iBAAiB,CAAEN,KAAMqB,EAAEC,OAAOH,WAgBtE,6BACA,2BAAOD,KAAK,OAAOC,MAAOf,EAAMP,KAAKI,IAAKmB,SAf1B,SAACC,GAAD,OAAOT,EAAYN,iBAAiB,CAAEL,IAAKoB,EAAEC,OAAOH,WAgBpE,6BACA,4BAAQF,QAASJ,EAAKU,YAAtB","file":"home.003752436f946983baf9.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AppController = /** @class */ (function () {\n    function AppController(context) {\n        this.ssr = false;\n        this.pageId = 0;\n        this.store = null;\n        console.log('constructor');\n        console.log(context);\n    }\n    return AppController;\n}());\nexports.default = AppController;\n//# sourceMappingURL=controller.js.map","import Controller from '../dist/src/isomorphic/controller'\nexport default Controller\n","import AppController from 'matcha/isomorphic/controller'\nimport React from 'react'\nimport { actions, initialState } from './model'\nimport View from './view'\n\nexport default class extends AppController {\n  name = 'home page!!!!!!!'\n  ssr = true\n  pageId = 10001\n  View = View\n  Model = { initialState, actions }\n\n  beforeRender = async () => {\n    this.store.getDispatchers().UPDATE_MESSAGES([\n      'hello world!' + ' ----- 发布时间 ' + new Date(),\n      'hi yichenyang!' + ' ----- 发布时间 ' + new Date(),\n      'yo matcha!' + ' ----- 发布时间 ' + new Date()\n    ])\n  }\n\n\n  submitForm = async () => {\n    alert(JSON.stringify(this.store.getState().form))\n  }\n}\n","export const initialState = {\n  count: 0,\n  form: {\n    name: '',\n    age: '',\n  },\n  messages: [],\n}\n\nexport const actions = {\n\n  INCREMENT_COUNT: (state) => {\n    return {\n      ...state,\n      count: state.count + 1,\n    }\n  },\n\n\n  RESET_COUNT: (state) => {\n    return {\n      ...state,\n      count:  0\n    }\n  },\n\n  UPDATE_FORM_DATA: (state, payload) => {\n    return {\n      ...state,\n      form: {\n        ...state.form,\n        ...payload,\n      }\n    }\n  },\n\n  UPDATE_MESSAGES: (state, payload) => {\n    return {\n      ...state,\n      messages: [...payload]\n    }\n  }\n}\n","import React from 'react'\n\nconst View = ({ state, dispatchers, ctrl }) => {\n\n  console.log(ctrl)\n\n  const onNameChange = (e) => dispatchers.UPDATE_FORM_DATA({ name: e.target.value })\n\n  const onAgeChange = (e) => dispatchers.UPDATE_FORM_DATA({ age: e.target.value })\n\n  return (\n    <div id=\"app-root\">\n      <h1>我的主页</h1>\n      <h2>count: { state.count }</h2>\n      <div onClick={() => {\n        console.log('click')\n        dispatchers.INCREMENT_COUNT()\n      }}>click me!!!!</div>\n      <br/>\n      <Messages messages={state.messages}/>\n      <br/>\n      <input type=\"text\" value={state.form.name} onChange={onNameChange}/>\n      <br/>\n      <input type=\"text\" value={state.form.age} onChange={onAgeChange}/>\n      <br/>\n      <button onClick={ctrl.submitForm}>submit</button>\n    </div>\n  )\n}\n\nconst Messages = ({ messages = [] }) => {\n  return (\n    <ul>\n      {messages.map(message => <li key={message}>{message}</li>)}\n    </ul>\n  )\n}\n\nexport default View\n"],"sourceRoot":""}